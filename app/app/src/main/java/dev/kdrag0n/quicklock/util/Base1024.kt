package dev.kdrag0n.quicklock.util

object Base1024 {
    private val ALPHABET = arrayOf("🚷", "♌", "💃", "🔬", "👱", "🎞", "👽", "🛅", "👗", "☠", "🤖", "⚖", "🏹", "⏹", "🤡", "⛴", "😁", "😐", "🎖", "🍋", "🐸", "🍰", "🚙", "🙍", "🏸", "🍷", "😹", "❤", "💲", "👖", "👦", "🍩", "😏", "🍎", "🎥", "🏟", "👚", "🗑", "🔼", "🌔", "🖥", "⏮", "🥃", "📺", "🥓", "💊", "🏮", "📗", "4️⃣", "😎", "☸", "☎", "👠", "🌵", "✴", "#️⃣", "🚄", "☕", "🉑", "🌾", "☢", "🖕", "🦏", "🍔", "⚾", "🤧", "✡", "🏥", "🚃", "⭕", "🏎", "*️⃣", "🚉", "🌑", "💢", "✨", "💁", "🌠", "🐬", "🗨", "🚮", "🚗", "☂", "☄", "🚈", "🎨", "🤕", "🎿", "😒", "📭", "😰", "🚞", "💝", "🔦", "🏕", "🎢", "🐞", "😌", "🙊", "🎀", "🛳", "❣", "🚟", "📮", "😥", "🚦", "📻", "🌷", "👬", "🛥", "✍", "9️⃣", "🚠", "😿", "🆘", "🛬", "🏆", "🚪", "🐎", "🎱", "📩", "🐍", "⏭", "🗞", "😯", "😣", "🛌", "🏑", "5️⃣", "💸", "🗜", "🙃", "😳", "🏐", "🌋", "🌞", "👄", "🥂", "👩‍👩‍👧‍👦", "✳", "🗳", "🔚", "👺", "🌒", "🥑", "🎑", "💺", "⛽", "🔕", "😵", "🌨", "🅾", "🏙", "😃", "🎪", "⏲", "💄", "🌼", "🐓", "🌶", "⛅", "😜", "✂", "🌌", "🗺", "🐽", "💖", "⚔", "💂", "👰", "🍽", "👓", "💴", "🚺", "😢", "📈", "💓", "🗻", "🔞", "😙", "🚨", "🍕", "🔄", "💧", "🔸", "🦍", "👩‍❤️‍👩", "👩‍❤️‍💋‍👨", "👃", "♣", "🌮", "📲", "🗓", "📰", "✊", "🚘", "🔇", "⚽", "🐂", "🔲", "♎", "🍞", "🕰", "🔓", "🦆", "😸", "🏚", "🔃", "🍤", "♑", "🙉", "🤤", "💩", "📤", "📍", "💏", "🐦", "❇", "😊", "😈", "🎚", "🐥", "🌖", "🚝", "⛷", "🔧", "🔽", "🐕", "📐", "👟", "👥", "🔈", "🎂", "🐧", "🤸", "🍙", "📼", "🏰", "🖨", "🔒", "😠", "😖", "🛴", "👑", "🛢", "🚬", "👨‍👩‍👧", "🎋", "🐀", "📄", "🏌", "🐤", "⏬", "⤴", "🕉", "🌟", "🍮", "💥", "🐶", "🔘", "🏗", "🤢", "🌊", "😨", "🎻", "🙂", "✉", "🐚", "💑", "😤", "❄", "🕎", "👩", "🥖", "🉐", "🔎", "⬆", "👷", "⏪", "🥉", "🦁", "🍆", "⛄", "🔌", "🏪", "🌍", "❕", "🖍", "📒", "🛍", "🌜", "🏳", "📿", "😭", "🌸", "🎵", "💣", "🅰", "✌", "🔥", "🍱", "📨", "3️⃣", "🎙", "🐠", "⏯", "🍇", "🕷", "👁‍🗨", "⛩", "🐌", "🔴", "🌐", "🌗", "🚳", "🌡", "😷", "2️⃣", "👯", "👣", "🔍", "🍂", "🚹", "🗂", "🏺", "🆓", "🍧", "🀄", "🏯", "🆚", "😻", "⚡", "📖", "☦", "📉", "🚇", "〽", "🖐", "🦋", "🎳", "⛹", "🆔", "🐨", "0️⃣", "😾", "🏤", "🌱", "💹", "🍟", "💷", "🐋", "🏭", "🐐", "🐝", "🍶", "🛏", "🌦", "⛓", "😮", "❗", "💕", "🦈", "🍁", "🌈", "🛫", "👹", "🙈", "🐊", "😍", "🆖", "⚓", "🚸", "❔", "💅", "🍓", "👁", "🎫", "💌", "🌪", "👈", "🗣", "🎭", "👨‍👨‍👦", "⛸", "🤙", "➰", "🏍", "🚀", "🔛", "👵", "🏠", "↔", "😚", "😦", "🐻", "📱", "♿", "🍐", "🎼", "🛣", "🏁", "☃", "🔷", "🌩", "⏸", "📵", "⛵", "✅", "🤠", "🎽", "🖲", "🏷", "✏", "🐪", "‼", "🕴", "🍥", "🙏", "🎣", "™", "🔣", "📇", "🙆", "🚱", "⬇", "🚋", "🔅", "🔔", "🍚", "😺", "🏒", "®", "⚛", "🦇", "💳", "🎺", "🐟", "🎹", "🍃", "🐛", "🔟", "📯", "🥗", "🐡", "🤐", "◀", "🔤", "📡", "🤶", "🚯", "🕌", "🔩", "👩‍❤️‍💋‍👩", "👭", "📫", "😩", "🖼", "☁", "♍", "🎾", "😄", "🃏", "🥇", "🎮", "🛵", "⏫", "🏃", "👊", "🎡", "🕹", "🔗", "🗽", "🐰", "🗄", "🎧", "👴", "🥔", "⌨", "🐼", "↕", "🛎", "🍠", "🌝", "🔐", "💭", "💔", "☝", "💽", "🎴", "👿", "⛏", "📅", "🏣", "🎷", "📽", "😓", "🕸", "💫", "⬜", "🌯", "👲", "📣", "🏨", "☔", "🍍", "🐑", "🌻", "🚐", "👸", "🔡", "🌹", "🚊", "🚛", "🛰", "➡", "🍯", "📞", "⬛", "😶", "😕", "🤞", "🤳", "🆑", "🙎", "📦", "🏫", "8️⃣", "🚔", "📛", "💎", "🎏", "📌", "💛", "🗾", "➿", "👧", "🥊", "😗", "🚾", "📆", "💰", "😀", "🔰", "😘", "🎐", "📧", "🤣", "🍊", "⤵", "🐢", "🐴", "🙁", "🐮", "🌤", "🐅", "👢", "🍼", "😋", "🔜", "⚪", "🤝", "👛", "⚠", "🗡", "↖", "👒", "😪", "🐗", "🛩", "🐱", "🚽", "🌎", "🏵", "🚁", "🍘", "🎰", "🔑", "📙", "🍨", "🌛", "🥕", "🔏", "🤒", "🎠", "🚖", "💚", "⛱", "🤼", "📑", "👮", "🐃", "🍏", "🦌", "💾", "💟", "➗", "🌏", "🍸", "🐉", "🍦", "🥝", "🎇", "👕", "🌅", "⚫", "➕", "🎩", "🚎", "💪", "🏡", "💵", "🎃", "🏧", "↩", "🍺", "🥚", "⌛", "©", "👍", "☑", "🍭", "♒", "😑", "👻", "🍴", "💬", "♐", "⏺", "🙄", "🔮", "🕯", "🚏", "🐙", "🤰", "🛃", "🔠", "🕳", "📠", "📃", "📳", "🤛", "🥜", "🔀", "👼", "🏴", "🚓", "🚢", "🏜", "🎌", "🦑", "♦", "👫", "👔", "🤷", "📶", "🚻", "🐳", "🎗", "📋", "🎤", "🏔", "🦐", "🚰", "🆒", "🐘", "🕺", "📓", "😼", "👇", "🔪", "💍", "1️⃣", "🍪", "🐔", "⁉", "💮", "🌚", "🏝", "⭐", "🥋", "🖱", "🌽", "🗯", "📎", "📂", "🛑", "🔯", "⬅", "👝", "⚱", "⚒", "🔁", "🤘", "🍗", "🚣", "🔺", "㊙", "📟", "🅿", "📁", "🐺", "💗", "🌘", "👜", "🛐", "🛀", "🏛", "🆎", "🛒", "🚜", "⚜", "☣", "🎉", "👉", "💦", "⚗", "🔉", "👡", "🗝", "🕶", "🗼", "👩‍👩‍👦", "🏦", "🐷", "🚵", "🔹", "🦅", "🌆", "🖖", "🐲", "🗒", "🍾", "⛔", "🌙", "🍒", "🤓", "🎛", "🍵", "🖇", "🐵", "⛈", "🍈", "⚙", "🎟", "♈", "🍜", "🌲", "🙀", "🌴", "♊", "🚴", "🍡", "👳", "🥞", "🙌", "🍹", "🍲", "📸", "🤥", "🚼", "🖋", "🐿", "⏱", "🐇", "💙", "😡", "♥", "🔊", "🆙", "📷", "🚩", "🛤", "👐", "🦂", "🍳", "🎄", "👪", "🔆", "😔", "🖤", "🏂", "☯", "🤦", "🌰", "🗃", "❓", "😝", "🎶", "😅", "👨", "🌺", "💉", "🔝", "🍻", "🍄", "🔫", "🕊", "↘", "✔", "🆗", "🤺", "👋", "🧀", "🛠", "6️⃣", "✒", "🛶", "🎅", "🈁", "⚰", "🏓", "🥘", "🌄", "💈", "🛋", "➖", "⛎", "🦄", "😛", "🎁", "🎍", "♉", "🍫", "🐏", "🙅", "😬", "🌕", "😞", "🏈", "🔻", "💀", "🕋", "👙", "🐜", "💼", "🍉", "🥈", "👘", "✋", "🐄", "👀", "🥅", "🛁", "🚆", "Ⓜ", "🛄", "👂", "👩‍❤️‍👨", "📢", "🈂", "🎎", "⛲", "🌂", "🌧", "🏋", "〰", "↙", "🔢", "✖", "☺", "⛑", "😆", "🐹", "🤽", "🚂", "📜", "🕍", "♻", "🔨", "⌚", "💿", "🚕", "🤵", "👆", "👨‍❤️‍💋‍👨", "🏅", "📪", "🅱", "🌬", "👨‍❤️‍👨", "👤", "🎊", "ℹ", "👅", "📀", "🐭", "🐾", "㊗", "😉", "🌫", "🌀", "♓", "🍿", "🚲", "♏", "💤", "👞", "♨", "🤑", "🔭", "🍬", "💱", "💞", "😱", "7️⃣", "🐯", "🏞", "🎒", "✈", "👨‍👩‍👦", "🚑", "📏", "🍝", "💒", "🏏", "😽", "😲", "🤹", "👏", "📴", "🥄", "🤴", "🥙", "🌿", "⏳", "🍌", "🏉", "☮", "😂", "🎦", "🍑", "🚧", "🏬", "🚭", "🏢", "🌉", "😇", "🎬", "⏏", "☪", "💇", "↪", "🐫", "⛰", "🚍", "📹", "🥒", "⏰", "🌇", "🔱", "📊", "🐒", "🏇", "🔙", "🏊", "🤚", "🤔", "🥁", "💆", "🦃", "🏘", "🦀", "🌓", "🚒", "❎", "🙇", "💋", "🍀", "🏀", "🔳", "💶", "🍖", "💯", "🌳", "☹", "🚶", "💻", "🎯", "💡", "🚤", "📚", "✝", "📔", "📥", "☘", "💘", "🛂", "📘", "🙋", "👌", "🦎", "🍛", "🌭", "🔋", "🏩", "🍣", "🕒", "🛡", "🚡", "🏄", "❌", "🖌", "💜", "👎", "🥐", "🐆", "🦊", "🔂", "👶", "🔶", "🤗", "🐩", "🚚", "😧", "⏩", "🤾", "⛳", "▶", "🐖", "📬", "🚫", "🌃", "🎸", "🎲")

    fun encode(data: ByteArray, chars: Int = 8): String {
        // Extract bits
        val bits = BooleanArray(data.size * 8)
        data.forEachIndexed { index, byte ->
            for (i in 0 until 8) {
                bits[index * 8 + i] = (byte.toInt() and (1 shl i)) != 0
            }
        }

        // Take groups of 10 bits (0-1023)
        val outChars = Array(chars) { "" }
        for (outIdx in 0 until chars) {
            val start = outIdx * 10
            val group = bits.sliceArray(start until (start + 10))
            var value = 0
            group.forEachIndexed { index, bit ->
                if (bit) {
                    value = value or (1 shl index)
                }
            }

            val char = ALPHABET[value]
            outChars[outIdx] = char
        }

        return outChars.joinToString("")
    }
}

fun ByteArray.toBase1024(chars: Int = 8) = Base1024.encode(this, chars)
